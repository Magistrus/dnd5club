"use strict";(self["webpackChunkdnd5club"]=self["webpackChunkdnd5club"]||[]).push([[625],{2728:function(e,t,o){o.d(t,{Z:function(){return _}});var n=o(9199);const i={class:"section-header"},r={class:"section-header__body"},c={class:"section-header__title"},s={class:"section-header__title--text"},a={key:0,class:"section-header__subtitle"},l={key:0,class:"section-header__controls"},u={key:0,class:"section-header__controls--optional"},d={key:1,type:"button",class:"section-header__control--optional is-only-desktop"},p={key:1,class:"section-header__controls--main"};function y(e,t,o,y,h,f){const m=(0,n.up)("svg-icon");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("div",r,[(0,n._)("div",c,[(0,n._)("div",s,(0,n.zw)(o.title),1),o.copy?((0,n.wg)(),(0,n.iD)("button",{key:0,class:"section-header__title--copy",onClick:t[0]||(t[0]=(0,n.iM)(((...e)=>f.copyText&&f.copyText(...e)),["left","exact","prevent","stop"]))},[(0,n.Wm)(m,{"icon-name":"copy"})])):(0,n.kq)("",!0)]),o.subtitle?((0,n.wg)(),(0,n.iD)("div",a,(0,n.zw)(o.subtitle),1)):(0,n.kq)("",!0)]),f.hasControls?((0,n.wg)(),(0,n.iD)("div",l,[f.hasOptionalControls?((0,n.wg)(),(0,n.iD)("div",u,[o.print?((0,n.wg)(),(0,n.iD)("button",{key:0,type:"button",class:"section-header__control--optional is-only-desktop",onClick:t[1]||(t[1]=(0,n.iM)(((...e)=>f.openPrintWindow&&f.openPrintWindow(...e)),["left","exact","prevent","stop"]))},[(0,n.Wm)(m,{"icon-name":"print"})])):(0,n.kq)("",!0),o.exportFoundry?((0,n.wg)(),(0,n.iD)("button",d,[(0,n.Wm)(m,{"icon-name":"export-foundry"})])):(0,n.kq)("",!0)])):(0,n.kq)("",!0),f.hasMainControls?((0,n.wg)(),(0,n.iD)("div",p,[o.fullscreen?((0,n.wg)(),(0,n.iD)("button",{key:0,type:"button",class:"section-header__control--main is-only-desktop",onClick:t[2]||(t[2]=(0,n.iM)((t=>e.uiStore.setFullscreenState(!e.uiStore.getContentConfig.fullscreen)),["left","exact","prevent"]))},[(0,n.Wm)(m,{"icon-name":e.uiStore.getContentConfig.fullscreen?"exit-fullscreen":"fullscreen"},null,8,["icon-name"])])):(0,n.kq)("",!0),o.close?((0,n.wg)(),(0,n.iD)("button",{key:1,type:"button",class:"section-header__control--main",onClick:t[3]||(t[3]=(0,n.iM)((e=>o.close()),["left","exact","prevent","stop"]))},[(0,n.Wm)(m,{"icon-name":"close"})])):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])}var h=o(535),f=o(9254),m={name:"SectionHeader",components:{SvgIcon:h.Z},props:{title:{type:String,required:!0},subtitle:{type:String,default:""},copy:{type:String,default:""},print:{type:Boolean,default:!1},exportFoundry:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},close:{type:Function,default:void 0}},data:()=>({uiStore:(0,f.H)()}),computed:{hasOptionalControls(){return!!this.print||!!this.exportFoundry},hasMainControls(){return!!this.close||!!this.fullscreen},hasControls(){return!!this.hasOptionalControls||!!this.hasMainControls}},methods:{async copyText(){if(navigator.clipboard)try{return void await navigator.clipboard.writeText(this.copy)}catch(t){console.error(t)}const e=document.body.appendChild(document.createElement("input"));e.value=this.copy,e.focus(),e.select(),document.execCommand("copy"),e.parentNode.removeChild(e)},openPrintWindow(){window.print()}}},k=o(89);const v=(0,k.Z)(m,[["render",y],["__scopeId","data-v-66896b56"]]);var _=v},1661:function(e,t,o){o.r(t),o.d(t,{default:function(){return d}});var n=o(9199);const i={class:"race-detail"};function r(e,t,o,r,c,s){const a=(0,n.up)("section-header");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(a,{title:s.currentRace.name.rus,subtitle:s.currentRace.name.eng,copy:s.urlForCopy,level:2,fullscreen:""},null,8,["title","subtitle","copy"])])}var c=o(2728),s=o(7769),a={name:"RaceDetail",components:{SectionHeader:c.Z},async beforeRouteUpdate(e,t,o){this.loading=!0;const n=(0,s.t)();n.deselectRace(),n.raceInfoQuery(e.params.raceName,e.params?.subrace).then((()=>{this.loading=!1,this.setTab(0),o()})).catch((e=>{console.error(e)}))},data:()=>({raceStore:(0,s.t)(),loading:!1}),computed:{currentRace(){return this.raceStore.getCurrentRace},urlForCopy(){return window.location.origin+this.$route.fullPath}},methods:{}},l=o(89);const u=(0,l.Z)(a,[["render",r]]);var d=u}}]);