<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layouts/layout}">
<head>
    <link th:href="@{/resources/css/trumbowyg.min.css}" rel="stylesheet">
    <script th:src="@{/resources/js/trumbowyg/trumbowyg.min.js}"></script>
    <script th:src="@{/resources/js/trumbowyg/langs/ru.min.js}"></script>
</head>
<body id="body" class="overflow-hidden">
	<div id="container" class="container">
		<div class="row">
			<div layout:fragment="content" class="article" data-simplebar>
				<form id="article_edit" th:action="@{|/profile/articles/|}" th:object="${article}" method="post">
					<div class="news_wrapper">
						<div class="left"></div>
						<div class="news_page">
							<div class="header">
								<input type="number" hidden="true" th:field="*{id}">
								<input type="text" hidden="true" th:field="*{created}">
								<input type="text" hidden="true" th:field="*{creator}">
								<input type="text" hidden="true" th:field="*{status}">
								<div class="row_input">
									<input type="text" placeholder="Название" th:field="*{title}">
								</div>
								<div class="row_input">
									<input type="text" placeholder="Описание" th:field="*{description}">
								</div>
							</div>
							<div class="row_input">
								<textarea id="text" name="text" rows="20" placeholder="Содержание" th:field="*{text}"></textarea>
							</div>
							<div class="bottom">
								<div class="row_input">
									<input type="text" placeholder="Автор" th:field="*{author}">
									<input type="text" placeholder="Перевод" th:field="*{translation}">
									<input type="text" placeholder="Автор оригинала" th:field="*{originalAuthor}">
									<input type="text" name="article_link_original" placeholder="Ссылка на оригинал" th:field="*{originalUrl}">
									<input type="text" name="article_source_name" placeholder="Название оригинального источника" th:field="*{originalName}">
								</div>
							</div>
						</div>
						<div class="right">
							<div class="btn_block">
								<button id="publishe" name="publishe" sec:authorize="hasAnyRole('ADMIN','MODERATOR', 'WRITER')" class="btn" value="publishe">Опубликовать</button>
								<button id="moderate" name="moderate" class="btn" value="moderate">На проверку</button>
								<button id="save" name="save" type="submit" class="btn secondary" value="save" >Сохранить в черовики</button>
								<button class="btn secondary" value="preview">Предпросмотр</button>
								<button id="delete" name="delete" th:unless="*{id eq null}" class="btn secondary" value="delete">Удалить</button>
								<button id="cancel" name="cancel" class="btn secondary" value="cancel">Отмена</button>
							</div>
						</div>
					</div>
				</form>
			</div>
		</div>
        <script type="text/javascript" th:inline="javascript">
            const editorIconPack = /*[[@{/resources/assets/trumbowyg-icons.svg}]]*/ '';
        </script>
	</div>
</body>
<script th:src="@{|/resources/js/articlesForm.js?v=${version}|}" layout:fragment="js-script"></script>
</html>
