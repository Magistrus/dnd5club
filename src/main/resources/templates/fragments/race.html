<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layouts/layout}">
<head>
<title th:text="${race.name}"></title>
</head>
<body>
	<th:block th:object="${race}" th:fragment="view">
		<div th:unless="*{subRaces.empty}" class="archetype_mobile_selector">
			<div class="select js-dropdown">
				<input type="hidden" name="archetype" id="mobile_selector" class="js-dropdown__input">
				<span class="placeholder js-dropdown__current" >Выбрать подрасу</span>
				<ul data-simplebar>
					<li th:each="subrace : *{subRaces}" th:data-dropdown-value="${subrace.englishName.replace(' ', '_')}" th:text="|${subrace.name} ${subrace.book.source}|"
					th:selected="${subrace.englishName eq selectedSubrace}" th:class="|${subrace.book.type.name().toLowerCase()}_source|"
					th:classappend="${subrace.book.type.name() ne 'OFFICAL' ? 'hide_block':''}"
					></li>
				</ul>
			</div>
		</div>

		<div th:unless="*{parent eq null}" class="archetype_mobile_selector">
			<div class="select js-dropdown">
				<input type="hidden" name="archetype" id="mobile_selector" class="js-dropdown__input">
				<span class="placeholder js-dropdown__current" >Выбрать подрасу</span>
				<ul data-simplebar>
					<li th:each="subrace : *{subRaces}" th:data-dropdown-value="${subrace.englishName.replace(' ', '_')}" th:text="|${subrace.name} ${subrace.book.source}|"
					th:selected="${subrace.englishName eq selectedSubrace}" th:class="|${subrace.book.type.name().toLowerCase()}_source|"
					th:classappend="${subrace.book.type.name() ne 'OFFICAL' ? 'hide_block':''}"
					></li>
				</ul>
			</div>
		</div>
		<div class="scores">
			<div class="score">
				<h4>
					<strong class="tip" title="Тип существа">ТИП</strong>
				</h4>
				<p th:if="*{type}" th:text="*{type.cyrilicName}"></p>
			</div>
			<div class="score">
				<h4>
					<strong class="tip" title="Увеличение характеристик">ХАР</strong>
				</h4>
				<p th:text="${race.abilityBonuses}"></p>
			</div>
			<div class="score">
				<h4>
					<strong class="tip" title="Размер">РАЗ</strong>
				</h4>
				<p th:text="${race.size.cyrilicName}"></p>
			</div>
			<div class="score">
				<h4>
					<strong class="tip" title="Скорость">СКР</strong>
				</h4>
				<p th:text="${race.fullSpeed}"></p>
			</div>
			<div th:if="${race.darkvision}" class="score">
				<h4>
					<strong class="tip" title="Темное зрение">ТЗ</strong>
				</h4>
				<p th:text="|${race.darkvision} фт.|"></p>
			</div>
		</div>
		<th:block th:each="feature : ${features}">
			<h4 class="header_separator" th:utext="${feature.name}"></h4>
			<div th:utext="${feature.description}"></div>
		</th:block>
		<th:block th:each="feature : ${subFeatures}">
			<h4 class="header_separator archetype_feet" th:utext="${feature.name}"></h4>
			<div th:utext="${feature.description}"></div>
		</th:block>
	</th:block>
</body>
</html>